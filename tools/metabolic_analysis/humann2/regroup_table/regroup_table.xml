<tool id="humann2_regroup_table" name="Regroup table features">

    <description>with HUMAnN2</description>

    <macros>

    </macros>

    <requirements>
    </requirements>

    <stdio>
    </stdio>

    <version_command></version_command>

    <!--<command>-->
    <command>
        humann2_regroup_table --input $input_file 
            --output $output_file 
            --groups $group
    </command>

    <inputs>
        <param name="input_file" type="data" format="tsv" label="Gene family abundance table" help=""/>

        <param name="group" type="select" display="radio" label="Grouping systems" help="">
            <option value="uniref50_ec">into top level enzyme commission (EC) categories</option>
            <option value="uniref50_rxn">into metacyc reactions</option>
            <option value="uniref50_ko">into KEGG Orthogroups (KOs)</option>
            <option value="uniref50_go">into into a subset of non-redundant, high-level Gene Ontology (GO) categories</option>
        </param>

    </inputs>

    <outputs>
        <data format="tsv" name="output_file" label="humann2_regroup_table_${input_file}.html" />
    </outputs>

    <tests>

    </tests>

    <help>
        **What it does**

        To simplify the exploration of gene family abundance data, gene families can be regrouped into other functional 
        categories.

        Given a table of feature values and a mapping of groups to component features, this tool produces a
        new table with group values in place of feature values. By default, feature abundances (such as gene families) 
        are summed to produce group abundances.

        .. _Read more about the tool: http://huttenhower.sph.harvard.edu/humann2/manual

        **Input**

        This script takes as arguments a gene family abundance table and a mapping information that indicates which gene
        families belong to which groups. Several grouping systems are included:

            - ``uniref50_ec`` collapses UniRef50 gene families into top level enzyme commission (EC) categories
            - ``uniref50_rxn`` collapses UniRef50 gene families into metacyc reactions. Note: HUMAnN2 uses reaction 
            abundances to compute the abundance and coverage of broader metabolic pathways. Reactions thus provide an 
            intermediate level of resolution between gene families and pathways.
            - ``uniref50_ko`` collapses UniRef50 gene fammilies into KEGG Orthogroups (KOs)
            - ``uniref50_go`` collapses UniRef50 gene families into a subset of non-redundant, high-level Gene Ontology 
            (GO) categories

        **Outputs**

        **Parameters**

    </help>

    <citations>
    </citations>
</tool>