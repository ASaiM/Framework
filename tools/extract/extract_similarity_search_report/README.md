Extract information from similarity search report
=================================================

This tool is developped to extract information from similarity search reports 
generated by Blast.

# Requirements

Blast

# Usage

```
python extract_similarity_search_report.py \
    --input report_filepath \
    --tool tool_used_to_generate_the_report \
    --format output_format_of_report \
    [--use_default_specifiers default/cigar/cigar_coverage] \
    --to_extract {information_to_extract,information_to_extract,...} \
    [--constraint info_to_constrain: type_of_constraint: value_of_constrain] \
    --report extraction_report_filepath \
    --output extraction_output_filepath
```
# Formats

Implemented formats

- Blast

    - Tabular `-outfmt 6`
    - Tabular with comment lines `-outfmt 7`
    - Comma-separated values `-outfmt 10`

Not implemented:

- Blast

    - Pairwise `-outfmt 0`
    - Query-anchored showing identities `-outfmt 1`
    - Query-anchored no identities `-outfmt 2`
    - Flat query-anchored, show identities `-outfmt 3`
    - Flat query-anchored, no identities `-outfmt 4`
    - XML Blast output `-outfmt 5`
    - Text ASN.1 `-outfmt 8`
    - Binary ASN.1 `-outfmt 9`
    - BLAST archive format (ASN.1) `-outfmt 11`
    - JSON Seqalign output `-outfmt 12`

To implement new formats:

1. Implement parse methods in `extract_similarity_search_report.py`
2. Give format specification in `format_spec` variable in `extract_similarity_search_report.py`
3. Add tests and expected tests outputs in `run_tests.sh` and in `test-data` directory
4. Give the possibility to use it in `extract_similarity_search_report.xml


# Functional tests

To launch functional tests:

```
test-data/src/run_tests.sh
```

In the functional tests, similarity searches are made between a sequence file 
and a database sequence file, with the different possible output formats. Scripts
of extraction are then tested for the different formats, and outputs are compared
to expected files.
